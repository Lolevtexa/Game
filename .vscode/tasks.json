{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build for Linux",
            "type": "shell",
            "command": "g++",
            "args":[
                "-g", "${workspaceFolder}/source/main.cpp",
                "-o", "${workspaceFolder}/build/linux/Game.out",
                "-I${workspaceFolder}/include",
                "-L${workspaceFolder}/libraries/SFML-2.6.1-linux-gcc-64-bit",
                "-lsfml-graphics", "-lsfml-window", "-lsfml-system", "-lsfml-audio"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "build for Windows",
            "type": "shell",
            "command": "/usr/bin/x86_64-w64-mingw32-g++",
            "args": [
                "-g", "${workspaceFolder}/source/main.cpp",
                "-o", "${workspaceFolder}/build/windows/Game.exe",
                "-I${workspaceFolder}/include",
                "-L${workspaceFolder}/libraries/SFML-2.6.1-windows-gcc-13.1.0-mingw-64-bit",
                "-lsfml-graphics", "-lsfml-window", "-lsfml-system", "-lsfml-audio"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "find dll files for Windows",
            "type": "shell",
            "command": "${workspaceFolder}/scripts/copydeps-run.sh",
            "args": [
                "${workspaceFolder}/scripts/copydeps",
                "${workspaceFolder}/build/windows/Game.exe",
                "${workspaceFolder}/build/windows",
                "${workspaceFolder}/build/bin"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "copy assets",
            "type": "shell",
            "command": "cp",
            "args": [
                "-r", "${workspaceFolder}/assets", "${workspaceFolder}/build"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "Build all",
            "type": "shell",
            "dependsOn": ["build for Linux", "build for Windows", "find dll files for Windows", "copy assets"],
            "dependsOrder": "sequence",
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "export LD_LIBRARY_PATH for Linux",
            "type": "shell",
            "command": "export",
            "args": ["LD_LIBRARY_PATH=/home/lolevtexa/proga/Projects/Game/libraries/SFML-2.6.1-linux-gcc-64-bit"],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }
    ]
}